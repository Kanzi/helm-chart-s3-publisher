language: node_js
node_js:
- '6'
- node
sudo: required
services:
- docker
before_install:
- npm install -g npm@'>=2.13.5'
script:
- npm test
- npm run build-docker
deploy:
- provider: npm
  email: xo-npm.group@xogrp.com
  api_key:
    secure: Vtj1etrDCFuLVT/1zdHffxZBLAa6cvpNBwnvN95UVWKrdsCyd1oQYov7vr9vsIZaPF2ETWyFnqLOvRgzMgB7TiqGgNvuftDR5ZQ3jewshgVB5WXx2pdgeBg/30ZwanBVRegSlaX2/OnoJxNRendvJzl7hhoQS50OgeL4e3GuKWa3XEYt241cPEy0je3FSNODnRv7kilb0pI7nBwxRqcPcM7ouB5p5wIGCdHFbVzAdSvpK9tT4WNybVaDnE3Km6SRP8aDrOgxuxoVnnD97x+uxdOW+/rjxNDyiiBxhO06uDsbjmZA29ReNJVng2MFLYuOMtvlTK8m2MeYbVpZlOhLf32MRHQzJSawNR4k38jwrQExLIp/XOlaziEfpSF/pmKv0NJuL362Spg/Ps3ZOb/Ov1XGRcWGrg0A4nlZu0/X5syaREy1mOFjv27KYkNBhadwtJ3tPQGySBcTGbo5PJsCOAyphWuzdojwYZDehdvBv1HpcjuCBMvvV8ckuQ/S5CXGWGBZHJp1Ev1swKv8bb5O5es/t6FHm2PWJcjLWr6kyvjAoic6F8h3QSUR+d3Yqf8+Lu3HCRny1GZHdS3jXhg4SdBsuhjM+bMGQHyxphXB9kd4kOPzeVwfyKfQa0D/kw2G9YmZGfkE+I271iiUdkQD92koJOEnkQJSmZTYx74erYo=
  on:
    tags: true
    repo: xogroup/helm-chart-s3-publisher
- provider: script
  script:
  - docker login --email=$DOCKER_HUB_EMAIL --username=$DOCKER_HUB_USERNAME --password=$DOCKER_HUB_PASSWORD
  - docker push xogroup/helm-chart-s3-publisher
notifications:
  slack:
    secure: I0R0m/Mz6pP7vZLaqRP3RwtaiI6lbpcfNpU1qUFMB4JgvHuqLEJyqUF/ayvph3wvCFeQTRkNX7Rot+II5kum71eM9T4yqxc/CBjDEoHFEVQ0G9sweeXMfZp1lukVyWnZXDgZSjTu8Ml7sItsEh8W5wJByjvvV2qdoBT8mn4kfAN+qAxLQUt5ZjsB13TLA3At16fGMPg170FCrtHsyLt2lfFW0bRhUvT8z1aTkn+7wuyVpamrt2l3PpJVgyJTUD0GuHUxBEIkv47fzSU/NmXFUw3e+Of8+AnB3LGFUK6CP42a50sbCKB7R0uWLLTXCDSaNLq6k3pu0lRytX0pTvZZR2hcki7VFbWMFl0FvKK7JAmQihJk9cxNY8URfpoNu7hXpeWXz+DU57MK/yYmwwmm/WxssFKuGmOgS1HU2n0sunB1OV9xJPu3yy7fr7raUZZvpJp8QRwWJIvBJprm0W+Oq6aDoagMZ/J5WCq/ThcnTmNBBFX+SlRfdzpq7NHtCB/TQeA61sl0+68G6YTIwtQ7ubIfT9EbMZgKCg6aUXSiOAXsT+JjPZEXk9CJURcxAihrvEKTh7Gs5rGMP27Zw8yT6N3uxrK5vitXuAkOXUdmZetbs1mBUrI+FVY21ey/gxTtLQlUTGPlf3DJvXBBpmjrZGlAHlit6zZQEENLgzxSfhA=
env:
  global:
  - secure: QjFWkpPz9A2uDzm+RDNtaPzNf7gzTIn6uh9Z8+y7Kop8MSBw12SIHRAiC1uy6Gr5eI9WwYr1MV6oOQ5XEpAuw9Wi6qo/U9E7fJdgVZGDnX3ZY3y4WoHqyNo9xAyGqT0fjbOqmW5u0/iLYAKTbFYOpa1RHAP4CIWmefbkGlMjsEkR56w07P3f6vhdah1AlbW+nQksQ5JBxF+JmL7LztGfjsVbaKE/PBtIBrt81Gp26huj7a8YROBKQNaGdwFSMcX28gfDQ4Im3sxqXhDqko0vhPOSxovDuy6MWEyqcXAn71Yma7NhAmcsDYUWUo2IjnVVM+WqhZsQwb7LP1uySK7v2/K2zR9kwUajPAxavWeEwcvhH3Ol9utZfLBMwALRs7YoThTNWl6V5FsFeNYIYVk4V8l5UiO4Wijp/ZSmModbLoccznJSOA+JrBIVyFE4n7a3EUf4lpk/x3JDc4wNgxHkLPAepNDzlCCfEVwW4fTdLmxHU1WvgwmV0gfwRomGZWyEXar9oOYaMgGsNgRZo+b5xlLCrQrH+/A0MMpTGjjA2G86Wr5aJjWC1oo6aXVd8VSxJjxWPhlwOGKWD24UvRKvWjC8WllNOaFyn7v5mFIXIc8WYcr5AQefJ7LksoZd/8ebyeuUmee4CfZ3+Eo0cA01QH9OYXKYHzpG7nK+iDIXArg=
  - secure: Lc3mpTqPU/i7WN5rUEkum67RoFJGQvvatscPadTq2W4VYi5ZX+jdwWcPHMzW855btw6nEULd6laEH29UDoTdWq0/uOpsuz1PmsB0TT90uo9egfGoArY3ws4xu/uhwhEq1uHhZghZmCmBiPdcQ6OPif+DMcXifN3t9X7Ug1ziBNnWZQ8TQ2yR1nnHCaV561cvfjeyXrd6exhS/6oprInHSxv1uw3f/ni0KtYKGCpLGmFQHhu2f+UN8PhdLYZrt9Hth5XUhBQfHrJN4HdwEUgZB1B4KgcQ5at5Ft+s6usvVTMFQAZr10t+K+1R2XYEzmmLYcOFkZPR2BfX38xY7bT4rA3JqJjqQF2Ar4zj8WxWFQqE2/SO6FZdJolvi4QgC45ETgLmjEOaLWLoa52mnYgTt8BWCHLnpCuxlTvulILz5Nm8hqMYdhGvMcW9ySiF2cVEKMMm8DeTbm/7HJ6U5ohbAvC5jsqFP8YHllAVT6dJLK81rEwHiLT82wgFNdkjkUTjHTqIKWS29FNAF2AT61FesWJWjgfCro5QL4h53mQDGBkBF2o/UhTDodK8//opj5aoqv0An/lgqH53gga/6kPMyGMOOIBcmOQOYLhy0FUrWmzbOhpKvuUJKBJU2XyXJNqJnjvrn0hBsd10liFNTJXzhJmTrbjGUocwmdDPh1UVKZ0=
  - secure: AoUKcorHbvHBiY1of4OhxeuJ8beA71RRYEAbv+JWkqWt3X1HWntPPcTqVLecyZL4BVqBAMDbTsL4SRB2/UXIzHpjLFR53sQYeAYCh3iSEfp3ES4MpXDewV1pAf+7OcrYvlfmH01mX6d5Ua6clt+zSqlZwhPVCdGfZh2W8FQURSA7uff6n2Wez7ZRTlJ+Zlx3AVUBoXaYgqspAF/bb/MCgj5+yfFHdeouIb9bO+HRZrKArwOCDBTZl47lbRfuhROcadMkFQ5qGcbdEZbXaFyHfVIRnJQskZtDUvnxXogLI9PXCz4AD7ALjRfBi+2XcPBtQcW8aTeQ0LvrPTwG6Mb2lLeCGdSLnPPCU+okL4i4zx4CeXeagPeEk/lfZ5Gz279IAhAxM9zHxINHAqMwjGJWiDeikgxWaxzdXmop56wfHMsT6bfdfz61FFYe5my+0EM42dWvjEXj9O0ieMcZVSWkSxXvkvRWUJGNPvJ2TP4UuOvZ+nY2sYgoHV/BUTlMnxEPyN+DpE1SnUhc3a3YUl51ioN1vaSl3Wb7x5HWv4OmOuxtBObkJETkwM4+vf5067rWqks7A6GnJQkvomYNDzTGIxdssPaNL7d4z4CjeKbVEY//tl57dhQ2UOwFF5gx9GXmtrTCFgJbkXKp27ydivA9UjTnf0ZbGD+4OoN47famcDs=
